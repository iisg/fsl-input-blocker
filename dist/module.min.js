angular.module("fslab.inputblocker",[]).directive("fslabInputBlocker",["$compile","$timeout",function(n,e){var r;return r='<span class="form-control input-blocker" readonly>\n  <span ng-if=\'!inputBlocker\'>\n    {{viewValue()}}\n  </span>\n  <span ng-if="inputBlocker"\n    ng-include=\'inputBlocker\'>\n  </span>\n  <div class="input-blocker-button text-danger"\n    ng-click="clearModel()"\n    ng-keypress=\'clearModel()\'\n    tabindex="0">\n    <span class="fa fa-fw fa-edit"></span>\n  </div>\n</span>',{require:"ngModel",scope:{value:"=ngModel",inputBlocker:"@fslabInputBlocker"},link:function(l,u,t,a){var o,i,c;return u.addClass("has-input-blocker"),o=n(r)(l),u.after(o),i=angular.element(o[0].querySelector(".input-blocker-button")),u.bind("blur",function(){return e(function(){return i[0].focus()},200)}),l.viewValue=function(){return a.$viewValue},l.clearModel=function(){return a.$setViewValue(null),a.$render(),u[0].focus()},c=a.$render,a.$render=function(){return u.toggleClass("input-blocker-active",!!a.$modelValue),c()}}}}]);